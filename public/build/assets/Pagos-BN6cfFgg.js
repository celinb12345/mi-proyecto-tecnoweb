import{d as g,q as $,H as L,A as pe,e as n,a as e,f as m,l as b,v as f,n as s,t as d,F as D,i as N,K as B,h as j,k as ve,L as P,o as u}from"./app-DZXOPLfm.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";const me={class:"flex gap-2 mb-6 flex-wrap"},ye={key:0,class:"mb-8"},_e=["onClick"],fe={class:"p-2 border"},xe={class:"p-2 border"},ke={class:"p-2 border"},we={class:"p-2 border"},he={class:"p-2 border"},Me={class:"p-2 border"},Ce={class:"p-2 border"},je={class:"p-2 border"},Pe={key:0},Se={key:0},Ve=["value"],Ue={key:1},De=["value"],Ne={key:2,class:"col-span-2 mt-2"},qe={class:"flex items-center gap-3 mb-3 flex-wrap"},Te={class:"flex flex-wrap gap-3"},Be=["onClick"],Ee={class:"flex items-center gap-3 mt-3 flex-wrap"},Re=["disabled"],Fe={key:3,class:"col-span-2"},Oe={class:"grid grid-cols-3 gap-4 mb-3"},Ie={class:"p-2 border"},$e={class:"p-2 border"},Le={class:"p-2 border"},Qe={key:0},ze=["onUpdate:modelValue"],Ae={class:"p-2 border"},Ge={key:1,class:"mt-10 text-center"},Je=["src"],He={class:"mt-10"},Ke={class:"p-2 border"},We={class:"p-2 border"},Xe={class:"p-2 border"},Ye={class:"p-2 border"},Ze={class:"p-2 border"},eo={class:"p-2 border"},oo={class:"p-2 border"},ao={key:0},to={key:1},ro={key:2},lo={key:0},so={key:0,class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mt-3 text-xs md:text-sm"},no={class:"flex flex-wrap items-center gap-1"},uo=["disabled"],io=["onClick"],go=["disabled"],p="rounded-lg p-2 w-full focus:ring-2 focus:ring-blue-400 focus:outline-none transition-colors duration-200",bo={__name:"Pagos",props:{darkMode:{type:Boolean,default:!1},fontClass:{type:String,default:"font-sans"}},setup(X){const Y="https://www.tecnoweb.org.bo/inf513/grupo06cc/metaluv-camiri/public/".replace(/\/$/,""),J=t=>t?t.startsWith("http")?t:`${Y.replace("/public","")}/storage/app/public/${t}`:null,l=X,E=g({desde:"",hasta:""}),r=g({tipo_pago:"",metodo_pago:"",estado_pago:"Pendiente",monto_total_pago:0,concepto_pago:"",fecha_pago:"",numero_comprobante:null,id_trabajador:"",id_proveedor:""}),x=g([]),h=g([]),Q=g([]),z=g([]),q=g(!1),S=g(null),M=g(0),R=g(""),k=g([]),A=$(()=>k.value.filter(t=>t.sel).length);function Z(){if(!R.value)return;const t=new Date(R.value),o=["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"];k.value=[];for(let a=0;a<7;a++){const i=new Date(t);i.setDate(t.getDate()+a),k.value.push({date:i.toISOString().slice(0,10),label:o[a]+" "+i.getDate(),sel:a<5})}}function ee(t){k.value[t].sel=!k.value[t].sel}function oe(){r.value.monto_total_pago=M.value*A.value}const w=g("no"),F=g(!1),_=g({cantidad:1,primerVenc:""}),v=g([]);function ae(){if(!r.value.monto_total_pago||!_.value.cantidad||!_.value.primerVenc){alert("Debe ingresar monto total, número de cuotas y la fecha de la primera cuota.");return}v.value=[];const t=_.value.cantidad||1,o=r.value.monto_total_pago/t,a=new Date(_.value.primerVenc);for(let i=1;i<=t;i++){const y=new Date(a);y.setMonth(y.getMonth()+(i-1)),v.value.push({numero:i,monto:Number(o.toFixed(2)),fecha:y.toISOString().slice(0,10),estado:"Pendiente"})}v.value.length&&(r.value.monto_total_pago=v.value[0].monto)}async function te(){if(M.value=0,k.value=[],r.value.tipo_pago==="trabajador"){const t=await P.get("propietario/Construccion/pagos/trabajadores");x.value=t.data,h.value=[],r.value.id_proveedor=""}else if(r.value.tipo_pago==="proveedor"){const t=await P.get("propietario/Construccion/pagos/proveedores");h.value=t.data,x.value=[],r.value.id_trabajador=""}else x.value=[],h.value=[];O()}function H(){const t=x.value.find(o=>o.id_trabajador==r.value.id_trabajador);M.value=t?Number(t.sueldo_trabajador):0}function T(t){return Number(t||0).toLocaleString("es-BO",{style:"currency",currency:"BOB"})}const V=g(null);function O(){if(r.value.metodo_pago!=="qr"){V.value=null;return}if(r.value.tipo_pago==="trabajador"&&r.value.id_trabajador){const t=x.value.find(o=>o.id_trabajador==r.value.id_trabajador);V.value=t&&t.codigoqr_trab?J(t.codigoqr_trab):null}else if(r.value.tipo_pago==="proveedor"&&r.value.id_proveedor){const t=h.value.find(o=>o.id_proveedor==r.value.id_proveedor);V.value=t&&t.codigoqr_prov?J(t.codigoqr_prov):null}else V.value=null}L(()=>r.value.metodo_pago,()=>{O()}),L(()=>r.value.id_trabajador,()=>{H(),O()}),L(()=>r.value.id_proveedor,()=>{O()});function re(){r.value={tipo_pago:"",metodo_pago:"",estado_pago:"Pendiente",monto_total_pago:0,concepto_pago:"",fecha_pago:"",numero_comprobante:null,id_trabajador:"",id_proveedor:""},M.value=0,R.value="",k.value=[],w.value="no",F.value=!1,_.value={cantidad:1,primerVenc:""},v.value=[],S.value=null,V.value=null}async function le(t){S.value=t,r.value.tipo_pago=t.tipo_pago,r.value.metodo_pago=t.metodo_pago,r.value.estado_pago="Pagado",r.value.monto_total_pago=Number(t.monto_cuota),r.value.concepto_pago=t.concepto_pago||"",r.value.fecha_pago=new Date().toISOString().slice(0,10),w.value="no",F.value=!0,v.value=[],_.value={cantidad:1,primerVenc:""};const o=String(t.destino||"").trim();if(t.tipo_pago==="trabajador"){const a=await P.get("propietario/Construccion/pagos/trabajadores");x.value=a.data,h.value=[],r.value.id_proveedor="";const i=x.value.find(y=>(String(y.nombre_trabajador||"")+" "+String(y.apellido_trabajador||"")).trim()===o);r.value.id_trabajador=i?i.id_trabajador:"",i&&(M.value=Number(i.sueldo_trabajador||0))}else if(t.tipo_pago==="proveedor"){const a=await P.get("propietario/Construccion/pagos/proveedores");h.value=a.data,x.value=[],r.value.id_trabajador="";const i=h.value.find(y=>String(y.nombre_empres_prov||"").trim()===o);r.value.id_proveedor=i?i.id_proveedor:""}O()}async function se(){try{w.value==="si"&&r.value.metodo_pago!=="qr"&&v.value.length&&(v.value[0].estado="Pagado");const t={...r.value,detalle_dias:r.value.tipo_pago==="trabajador"?k.value.filter(a=>a.sel).map(a=>a.date):[],en_cuotas:w.value==="si",plan:w.value==="si"?v.value:[],id_cuota_origen:S.value?S.value.id_cuota:null};t.metodo_pago==="qr"&&t.en_cuotas&&v.value.length&&(t.monto_total_pago=v.value[0].monto);const o=await P.post("propietario/Construccion/pagos",t);if(!o.data.ok){alert(o.data.message||"Ocurrió un error al registrar el pago.");return}alert(o.data.message||"Pago registrado correctamente."),re(),await G(),q.value&&await K()}catch(t){if(console.error(t),t.response&&t.response.status===422){const o=t.response.data;alert("Error al registrar pago: "+JSON.stringify(o.errors))}else alert("Error inesperado al registrar pago.")}}async function G(){const t=await P.get("propietario/Construccion/pagos");Q.value=t.data.pagos||[]}async function de(){const t=new URLSearchParams(E.value).toString(),o=await P.get(`propietario/Construccion/pagos?${t}`);Q.value=o.data.pagos||[]}async function K(){try{const t=await P.get("propietario/Construccion/pagos/cuotas-pendientes");z.value=t.data.cuotas||[]}catch(t){console.error(t),alert("No se pudieron cargar las cuotas pendientes.")}}async function ne(){q.value?(q.value=!1,S.value=null,F.value=!1):(await K(),q.value=!0)}const C=$(()=>Q.value.filter(t=>t.tipo_pago==="trabajador"||t.tipo_pago==="proveedor")),c=g(1),I=g(5),U=$(()=>C.value.length?Math.ceil(C.value.length/I.value):1),ue=$(()=>{const t=(c.value-1)*I.value;return C.value.slice(t,t+I.value)}),W=$(()=>{if(!C.value.length)return{from:0,to:0};const t=(c.value-1)*I.value+1,o=Math.min(c.value*I.value,C.value.length);return{from:t,to:o}});L(C,()=>{c.value>U.value&&(c.value=U.value)});function ie(t){t>=1&&t<=U.value&&(c.value=t)}function ge(){c.value>1&&c.value--}function be(){c.value<U.value&&c.value++}return pe(async()=>{await G()}),(t,o)=>(u(),n("div",{class:s(["p-6 rounded-2xl shadow-md transition-colors duration-300",l.darkMode?"bg-gray-800 text-gray-100":"bg-white text-gray-900",l.fontClass])},[o[49]||(o[49]=e("h2",{class:"text-2xl font-bold text-blue-500 mb-4"},"Gestión de Pagos",-1)),e("div",me,[b(e("input",{type:"date","onUpdate:modelValue":o[0]||(o[0]=a=>E.value.desde=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,E.value.desde]]),b(e("input",{type:"date","onUpdate:modelValue":o[1]||(o[1]=a=>E.value.hasta=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,E.value.hasta]]),e("button",{onClick:de,class:"btn-primary"},"Buscar"),e("button",{onClick:G,class:"btn-gray"},"Listar Todo"),e("button",{onClick:ne,class:"btn-warning"},d(q.value?"Ocultar cuotas pendientes":"Cuotas pendientes"),1)]),q.value?(u(),n("div",ye,[o[16]||(o[16]=e("h3",{class:"font-semibold mb-2"},"Cuotas Pendientes",-1)),e("table",{class:s(["w-full text-sm border",l.darkMode?"border-gray-700":"border-gray-300"])},[e("thead",{class:s(l.darkMode?"bg-yellow-600 text-white":"bg-yellow-100")},[...o[15]||(o[15]=[e("tr",null,[e("th",{class:"p-2 border"},"#"),e("th",{class:"p-2 border"},"Destino"),e("th",{class:"p-2 border"},"Tipo"),e("th",{class:"p-2 border"},"Método"),e("th",{class:"p-2 border"},"N° cuota"),e("th",{class:"p-2 border"},"Monto"),e("th",{class:"p-2 border"},"Vencimiento"),e("th",{class:"p-2 border"},"Concepto")],-1)])],2),e("tbody",null,[(u(!0),n(D,null,N(z.value,a=>(u(),n("tr",{key:a.id_cuota,onClick:i=>le(a),class:s(["cursor-pointer",S.value&&S.value.id_cuota===a.id_cuota?l.darkMode?"bg-yellow-900 text-white":"bg-yellow-100":l.darkMode?"border-b border-gray-700 hover:bg-gray-700":"border-b border-gray-200 hover:bg-gray-50"])},[e("td",fe,d(a.id_cuota),1),e("td",xe,d(a.destino),1),e("td",ke,d(a.tipo_pago),1),e("td",we,d(a.metodo_pago),1),e("td",he,d(a.numero_cuota),1),e("td",Me,d(T(a.monto_cuota)),1),e("td",Ce,d(a.fecha_vencimiento),1),e("td",je,d(a.concepto_pago||"-"),1)],10,_e))),128)),z.value.length?m("",!0):(u(),n("tr",Pe,[e("td",{colspan:"8",class:s(["text-center py-3",l.darkMode?"text-gray-300":"text-gray-500"])}," No hay cuotas pendientes ",2)]))])],2)])):m("",!0),e("form",{onSubmit:ve(se,["prevent"]),class:"grid grid-cols-2 gap-4"},[e("div",null,[o[18]||(o[18]=e("label",{class:"block text-sm font-semibold mb-1"},"Tipo de Pago",-1)),b(e("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>r.value.tipo_pago=a),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]]),onChange:te},[...o[17]||(o[17]=[e("option",{disabled:"",value:""},"Seleccione",-1),e("option",{value:"trabajador"},"Trabajador",-1),e("option",{value:"proveedor"},"Proveedor",-1)])],34),[[B,r.value.tipo_pago]])]),e("div",null,[o[20]||(o[20]=e("label",{class:"block text-sm font-semibold mb-1"},"Método de Pago",-1)),b(e("select",{"onUpdate:modelValue":o[3]||(o[3]=a=>r.value.metodo_pago=a),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[...o[19]||(o[19]=[e("option",{disabled:"",value:""},"Seleccione",-1),e("option",{value:"efectivo"},"Efectivo",-1),e("option",{value:"qr"},"QR",-1)])],2),[[B,r.value.metodo_pago]])]),e("div",null,[o[21]||(o[21]=e("label",{class:"block text-sm font-semibold mb-1"},"Número Comprobante",-1)),b(e("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=a=>r.value.numero_comprobante=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"])},null,2),[[f,r.value.numero_comprobante,void 0,{number:!0}]])]),e("div",null,[o[23]||(o[23]=e("label",{class:"block text-sm font-semibold mb-1"},"Estado",-1)),b(e("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>r.value.estado_pago=a),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[...o[22]||(o[22]=[e("option",{value:"Pagado"},"Pagado",-1),e("option",{value:"Pendiente"},"Pendiente",-1)])],2),[[B,r.value.estado_pago]])]),e("div",null,[o[26]||(o[26]=e("label",{class:"block text-sm font-semibold mb-1"}," Monto total / Monto del pago ",-1)),b(e("input",{type:"number",min:"0",step:"0.01",inputmode:"decimal","onUpdate:modelValue":o[6]||(o[6]=a=>r.value.monto_total_pago=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"])},null,2),[[f,r.value.monto_total_pago,void 0,{number:!0}]]),r.value.metodo_pago==="qr"&&w.value==="si"&&v.value.length?(u(),n("p",{key:0,class:s(["text-xs mt-1",l.darkMode?"text-gray-300":"text-gray-500"])},[o[24]||(o[24]=j(" * Para QR en cuotas se cobrará el monto de la ",-1)),e("b",null,"primera cuota ("+d(T(v.value[0].monto))+")",1),o[25]||(o[25]=j(". ",-1))],2)):m("",!0)]),e("div",null,[o[27]||(o[27]=e("label",{class:"block text-sm font-semibold mb-1"},"Concepto",-1)),b(e("input",{type:"text","onUpdate:modelValue":o[7]||(o[7]=a=>r.value.concepto_pago=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"])},null,2),[[f,r.value.concepto_pago]])]),e("div",null,[o[28]||(o[28]=e("label",{class:"block text-sm font-semibold mb-1"},"Fecha Pago",-1)),b(e("input",{type:"date","onUpdate:modelValue":o[8]||(o[8]=a=>r.value.fecha_pago=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,r.value.fecha_pago]])]),r.value.tipo_pago==="trabajador"?(u(),n("div",Se,[o[31]||(o[31]=e("label",{class:"block text-sm font-semibold mb-1"},"Trabajador",-1)),b(e("select",{"onUpdate:modelValue":o[9]||(o[9]=a=>r.value.id_trabajador=a),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]]),onChange:H},[o[29]||(o[29]=e("option",{disabled:"",value:""},"Seleccione",-1)),(u(!0),n(D,null,N(x.value,a=>(u(),n("option",{key:a.id_trabajador,value:a.id_trabajador},d(a.nombre_trabajador)+" "+d(a.apellido_trabajador),9,Ve))),128))],34),[[B,r.value.id_trabajador]]),M.value?(u(),n("p",{key:0,class:s(["text-sm mt-1",l.darkMode?"text-gray-300":"text-gray-500"])},[o[30]||(o[30]=j(" Sueldo por día: ",-1)),e("b",null,d(T(M.value)),1)],2)):m("",!0)])):m("",!0),r.value.tipo_pago==="proveedor"?(u(),n("div",Ue,[o[33]||(o[33]=e("label",{class:"block text-sm font-semibold mb-1"},"Proveedor",-1)),b(e("select",{"onUpdate:modelValue":o[10]||(o[10]=a=>r.value.id_proveedor=a),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[o[32]||(o[32]=e("option",{disabled:"",value:""},"Seleccione",-1)),(u(!0),n(D,null,N(h.value,a=>(u(),n("option",{key:a.id_proveedor,value:a.id_proveedor},d(a.nombre_empres_prov),9,De))),128))],2),[[B,r.value.id_proveedor]])])):m("",!0),r.value.tipo_pago==="trabajador"?(u(),n("div",Ne,[o[35]||(o[35]=e("label",{class:"block mb-1 font-semibold"},"Días trabajados (semana)",-1)),e("div",qe,[e("span",{class:s(["text-sm w-44",l.darkMode?"text-gray-300":"text-gray-600"])}," Semana que inicia: ",2),b(e("input",{type:"date","onUpdate:modelValue":o[11]||(o[11]=a=>R.value=a),class:s(["w-48",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},null,2),[[f,R.value]]),e("button",{onClick:Z,type:"button",class:"btn-gray"}," Armar Semana ")]),e("div",Te,[(u(!0),n(D,null,N(k.value,(a,i)=>(u(),n("button",{key:i,type:"button",class:s(["px-4 py-2 rounded-lg border text-sm font-medium",a.sel?"bg-green-500 text-white border-green-600":l.darkMode?"bg-gray-700 text-gray-100 border-gray-600":"bg-red-100 text-gray-800 border-red-200"]),onClick:y=>ee(i)},d(a.label),11,Be))),128))]),e("div",Ee,[e("span",{class:s(["text-sm",l.darkMode?"text-gray-300":"text-gray-600"])},[o[34]||(o[34]=j(" Seleccionados: ",-1)),e("b",null,d(A.value),1)],2),e("button",{type:"button",class:"btn-primary",onClick:oe}," Usar monto sugerido ("+d(T(M.value*A.value))+") ",1)])])):m("",!0),e("div",null,[o[37]||(o[37]=e("label",{class:"block text-sm font-semibold mb-1"},"¿En Cuotas?",-1)),b(e("select",{"onUpdate:modelValue":o[12]||(o[12]=a=>w.value=a),disabled:F.value,class:s(["w-full",[p,F.value?"bg-gray-200 cursor-not-allowed":"",l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[...o[36]||(o[36]=[e("option",{value:"no"},"Pago directo",-1),e("option",{value:"si"},"En cuotas",-1)])],10,Re),[[B,w.value]])]),w.value==="si"?(u(),n("div",Fe,[e("fieldset",{class:s(["border rounded-xl p-4",l.darkMode?"border-gray-600":"border-gray-300"])},[e("legend",{class:s(["px-2 text-sm",l.darkMode?"text-gray-300":"text-gray-600"])}," Plan de Cuotas ",2),e("div",Oe,[e("div",null,[o[38]||(o[38]=e("label",{class:"block text-sm font-semibold mb-1"}," Número de cuotas ",-1)),b(e("input",{type:"number",min:"1","onUpdate:modelValue":o[13]||(o[13]=a=>_.value.cantidad=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,_.value.cantidad,void 0,{number:!0}]])]),e("div",null,[o[39]||(o[39]=e("label",{class:"block text-sm font-semibold mb-1"}," Fecha 1ª Cuota ",-1)),b(e("input",{type:"date","onUpdate:modelValue":o[14]||(o[14]=a=>_.value.primerVenc=a),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,_.value.primerVenc]])]),e("div",{class:"flex items-end"},[e("button",{class:"btn-gray w-full",type:"button",onClick:ae}," Generar ")])]),v.value.length?(u(),n("table",{key:0,class:s(["w-full text-sm border mt-2",l.darkMode?"border-gray-700":"border-gray-300"])},[e("thead",{class:s(l.darkMode?"bg-gray-700 text-white":"bg-gray-100")},[...o[40]||(o[40]=[e("tr",null,[e("th",{class:"p-2 border"},"#"),e("th",{class:"p-2 border"},"Monto"),e("th",{class:"p-2 border"},"Fecha"),e("th",{class:"p-2 border"},"Estado")],-1)])],2),e("tbody",null,[(u(!0),n(D,null,N(v.value,(a,i)=>(u(),n("tr",{key:i,class:s(l.darkMode?"border-b border-gray-700":"border-b border-gray-200")},[e("td",Ie,d(a.numero),1),e("td",$e,d(T(a.monto)),1),e("td",Le,[i===0?(u(),n("span",Qe,d(a.fecha),1)):b((u(),n("input",{key:1,type:"date","onUpdate:modelValue":y=>a.fecha=y,class:s([p,"text-xs",l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,10,ze)),[[f,a.fecha]])]),e("td",Ae,d(a.estado),1)],2))),128))])],2)):m("",!0)],2)])):m("",!0),o[41]||(o[41]=e("div",{class:"col-span-2 flex justify-end mt-4"},[e("button",{type:"submit",class:"btn-success"},"Registrar Pago")],-1))],32),V.value?(u(),n("div",Ge,[o[42]||(o[42]=e("h3",{class:"text-lg font-semibold mb-2"},"Código QR del destino seleccionado",-1)),e("img",{src:V.value,class:"w-64 mx-auto shadow-lg rounded-xl p-3 bg-white",alt:"QR"},null,8,Je)])):m("",!0),e("div",He,[o[48]||(o[48]=e("h3",{class:"font-semibold mb-2"},"Pagos Registrados",-1)),e("table",{class:s(["w-full text-sm border",l.darkMode?"border-gray-700":"border-gray-300"])},[e("thead",{class:s(l.darkMode?"bg-blue-600 text-white":"bg-gray-100")},[...o[43]||(o[43]=[e("tr",null,[e("th",{class:"p-2 border"},"#"),e("th",{class:"p-2 border"},"Tipo"),e("th",{class:"p-2 border"},"Método"),e("th",{class:"p-2 border"},"Estado"),e("th",{class:"p-2 border"},"Fecha"),e("th",{class:"p-2 border"},"Monto"),e("th",{class:"p-2 border"},"Destino")],-1)])],2),e("tbody",null,[(u(!0),n(D,null,N(ue.value,a=>(u(),n("tr",{key:a.id_pago,class:s(l.darkMode?"border-b border-gray-700 hover:bg-gray-700":"border-b border-gray-200 hover:bg-gray-50")},[e("td",Ke,d(a.id_pago),1),e("td",We,d(a.tipo_pago),1),e("td",Xe,d(a.metodo_pago),1),e("td",Ye,d(a.estado_pago?"Pagado":"Pendiente"),1),e("td",Ze,d(a.fecha_pago),1),e("td",eo,d(T(a.monto_total_pago)),1),e("td",oo,[a.trabajador?(u(),n("span",ao,d(a.trabajador.nombre_trabajador),1)):a.proveedor?(u(),n("span",to,d(a.proveedor.nombre_empres_prov),1)):(u(),n("span",ro,"-"))])],2))),128)),C.value.length?m("",!0):(u(),n("tr",lo,[e("td",{colspan:"7",class:s(["text-center py-3",l.darkMode?"text-gray-300":"text-gray-500"])}," No hay pagos registrados de trabajadores o proveedores ",2)]))])],2),U.value>1?(u(),n("div",so,[e("div",null,[o[44]||(o[44]=j(" Mostrando ",-1)),e("b",null,d(W.value.from),1),o[45]||(o[45]=j(" - ",-1)),e("b",null,d(W.value.to),1),o[46]||(o[46]=j(" de ",-1)),e("b",null,d(C.value.length),1),o[47]||(o[47]=j(" pagos ",-1))]),e("div",no,[e("button",{class:s(["px-2 py-1 rounded border",l.darkMode?"bg-gray-800 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-700"]),onClick:ge,disabled:c.value===1}," ⬅ ",10,uo),(u(!0),n(D,null,N(U.value,a=>(u(),n("button",{key:a,class:s(["px-2 py-1 rounded border text-xs",[a===c.value?"bg-blue-600 text-white border-blue-500":l.darkMode?"bg-gray-800 text-gray-100 border-gray-600 hover:bg-gray-700":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"]]),onClick:i=>ie(a)},d(a),11,io))),128)),e("button",{class:s(["px-2 py-1 rounded border",l.darkMode?"bg-gray-800 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-700"]),onClick:be,disabled:c.value===U.value}," ➡ ",10,go)])])):m("",!0)])],2))}},co=ce(bo,[["__scopeId","data-v-d88aea3a"]]);export{co as default};
