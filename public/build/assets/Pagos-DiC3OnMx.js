import{d as g,q as $,H as L,A as pe,e as n,a as e,f as m,l as b,v as f,n as s,t as d,F as D,i as N,K as B,h as P,k as ve,L as C,o as u}from"./app-DZXOPLfm.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";const me={class:"flex gap-2 mb-6 flex-wrap"},ye={key:0,class:"mb-8"},_e=["onClick"],fe={class:"p-2 border"},xe={class:"p-2 border"},ke={class:"p-2 border"},we={class:"p-2 border"},he={class:"p-2 border"},Me={class:"p-2 border"},je={class:"p-2 border"},Pe={class:"p-2 border"},Ce={key:0},Se={key:0},Ve=["value"],Ue={key:1},De=["value"],Ne={key:2,class:"col-span-2 mt-2"},qe={class:"flex items-center gap-3 mb-3 flex-wrap"},Te={class:"flex flex-wrap gap-3"},Be=["onClick"],Ee={class:"flex items-center gap-3 mt-3 flex-wrap"},Re=["disabled"],Fe={key:3,class:"col-span-2"},Oe={class:"grid grid-cols-3 gap-4 mb-3"},Ie={class:"p-2 border"},$e={class:"p-2 border"},Le={class:"p-2 border"},Qe={key:0},ze=["onUpdate:modelValue"],Ae={class:"p-2 border"},Ge={key:1,class:"mt-10 text-center"},Je=["src"],He={class:"mt-10"},Ke={class:"p-2 border"},We={class:"p-2 border"},Xe={class:"p-2 border"},Ye={class:"p-2 border"},Ze={class:"p-2 border"},ea={class:"p-2 border"},aa={class:"p-2 border"},oa={key:0},ta={key:1},ra={key:2},la={key:0},sa={key:0,class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mt-3 text-xs md:text-sm"},da={class:"flex flex-wrap items-center gap-1"},na=["disabled"],ua=["onClick"],ia=["disabled"],p="rounded-lg p-2 w-full focus:ring-2 focus:ring-blue-400 focus:outline-none transition-colors duration-200",ga={__name:"Pagos",props:{darkMode:{type:Boolean,default:!1},fontClass:{type:String,default:"font-sans"}},setup(X){const Y="https://www.tecnoweb.org.bo/inf513/grupo06cc/metaluv-camiri/public/".replace(/\/$/,""),J=t=>t?t.startsWith("http")?t:`${Y.replace("/public","")}/storage/app/public/${t}`:null,l=X,E=g({desde:"",hasta:""}),r=g({tipo_pago:"",metodo_pago:"",estado_pago:"Pendiente",monto_total_pago:0,concepto_pago:"",fecha_pago:"",numero_comprobante:null,id_trabajador:"",id_proveedor:""}),x=g([]),h=g([]),Q=g([]),z=g([]),q=g(!1),S=g(null),M=g(0),R=g(""),k=g([]),A=$(()=>k.value.filter(t=>t.sel).length);function Z(){if(!R.value)return;const t=new Date(R.value),a=["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"];k.value=[];for(let o=0;o<7;o++){const i=new Date(t);i.setDate(t.getDate()+o),k.value.push({date:i.toISOString().slice(0,10),label:a[o]+" "+i.getDate(),sel:o<5})}}function ee(t){k.value[t].sel=!k.value[t].sel}function ae(){r.value.monto_total_pago=M.value*A.value}const w=g("no"),F=g(!1),_=g({cantidad:1,primerVenc:""}),v=g([]);function oe(){if(!r.value.monto_total_pago||!_.value.cantidad||!_.value.primerVenc){alert("Debe ingresar monto total, número de cuotas y la fecha de la primera cuota.");return}v.value=[];const t=_.value.cantidad||1,a=r.value.monto_total_pago/t,o=new Date(_.value.primerVenc);for(let i=1;i<=t;i++){const y=new Date(o);y.setMonth(y.getMonth()+(i-1)),v.value.push({numero:i,monto:Number(a.toFixed(2)),fecha:y.toISOString().slice(0,10),estado:"Pendiente"})}v.value.length&&(r.value.monto_total_pago=v.value[0].monto)}async function te(){if(M.value=0,k.value=[],r.value.tipo_pago==="trabajador"){const t=await C.get("propietario/melamina/pagos/trabajadores");x.value=t.data,h.value=[],r.value.id_proveedor=""}else if(r.value.tipo_pago==="proveedor"){const t=await C.get("propietario/melamina/pagos/proveedores");h.value=t.data,x.value=[],r.value.id_trabajador=""}else x.value=[],h.value=[];O()}function H(){const t=x.value.find(a=>a.id_trabajador==r.value.id_trabajador);M.value=t?Number(t.sueldo_trabajador):0}function T(t){return Number(t||0).toLocaleString("es-BO",{style:"currency",currency:"BOB"})}const V=g(null);function O(){if(r.value.metodo_pago!=="qr"){V.value=null;return}if(r.value.tipo_pago==="trabajador"&&r.value.id_trabajador){const t=x.value.find(a=>a.id_trabajador==r.value.id_trabajador);V.value=t&&t.codigoqr_trab?J(t.codigoqr_trab):null}else if(r.value.tipo_pago==="proveedor"&&r.value.id_proveedor){const t=h.value.find(a=>a.id_proveedor==r.value.id_proveedor);V.value=t&&t.codigoqr_prov?J(t.codigoqr_prov):null}else V.value=null}L(()=>r.value.metodo_pago,()=>{O()}),L(()=>r.value.id_trabajador,()=>{H(),O()}),L(()=>r.value.id_proveedor,()=>{O()});function re(){r.value={tipo_pago:"",metodo_pago:"",estado_pago:"Pendiente",monto_total_pago:0,concepto_pago:"",fecha_pago:"",numero_comprobante:null,id_trabajador:"",id_proveedor:""},M.value=0,R.value="",k.value=[],w.value="no",F.value=!1,_.value={cantidad:1,primerVenc:""},v.value=[],S.value=null,V.value=null}async function le(t){S.value=t,r.value.tipo_pago=t.tipo_pago,r.value.metodo_pago=t.metodo_pago,r.value.estado_pago="Pagado",r.value.monto_total_pago=Number(t.monto_cuota),r.value.concepto_pago=t.concepto_pago||"",r.value.fecha_pago=new Date().toISOString().slice(0,10),w.value="no",F.value=!0,v.value=[],_.value={cantidad:1,primerVenc:""};const a=String(t.destino||"").trim();if(t.tipo_pago==="trabajador"){const o=await C.get("propietario/melamina/pagos/trabajadores");x.value=o.data,h.value=[],r.value.id_proveedor="";const i=x.value.find(y=>(String(y.nombre_trabajador||"")+" "+String(y.apellido_trabajador||"")).trim()===a);r.value.id_trabajador=i?i.id_trabajador:"",i&&(M.value=Number(i.sueldo_trabajador||0))}else if(t.tipo_pago==="proveedor"){const o=await C.get("propietario/melamina/pagos/proveedores");h.value=o.data,x.value=[],r.value.id_trabajador="";const i=h.value.find(y=>String(y.nombre_empres_prov||"").trim()===a);r.value.id_proveedor=i?i.id_proveedor:""}O()}async function se(){try{w.value==="si"&&r.value.metodo_pago!=="qr"&&v.value.length&&(v.value[0].estado="Pagado");const t={...r.value,detalle_dias:r.value.tipo_pago==="trabajador"?k.value.filter(o=>o.sel).map(o=>o.date):[],en_cuotas:w.value==="si",plan:w.value==="si"?v.value:[],id_cuota_origen:S.value?S.value.id_cuota:null};t.metodo_pago==="qr"&&t.en_cuotas&&v.value.length&&(t.monto_total_pago=v.value[0].monto);const a=await C.post("propietario/melamina/pagos",t);if(!a.data.ok){alert(a.data.message||"Ocurrió un error al registrar el pago.");return}alert(a.data.message||"Pago registrado correctamente."),re(),await G(),q.value&&await K()}catch(t){if(console.error(t),t.response&&t.response.status===422){const a=t.response.data;alert("Error al registrar pago: "+JSON.stringify(a.errors))}else alert("Error inesperado al registrar pago.")}}async function G(){const t=await C.get("propietario/melamina/pagos");Q.value=t.data.pagos||[]}async function de(){const t=new URLSearchParams(E.value).toString(),a=await C.get(`propietario/melamina/pagos?${t}`);Q.value=a.data.pagos||[]}async function K(){try{const t=await C.get("propietario/melamina/pagos/cuotas-pendientes");z.value=t.data.cuotas||[]}catch(t){console.error(t),alert("No se pudieron cargar las cuotas pendientes.")}}async function ne(){q.value?(q.value=!1,S.value=null,F.value=!1):(await K(),q.value=!0)}const j=$(()=>Q.value.filter(t=>t.tipo_pago==="trabajador"||t.tipo_pago==="proveedor")),c=g(1),I=g(5),U=$(()=>j.value.length?Math.ceil(j.value.length/I.value):1),ue=$(()=>{const t=(c.value-1)*I.value;return j.value.slice(t,t+I.value)}),W=$(()=>{if(!j.value.length)return{from:0,to:0};const t=(c.value-1)*I.value+1,a=Math.min(c.value*I.value,j.value.length);return{from:t,to:a}});L(j,()=>{c.value>U.value&&(c.value=U.value)});function ie(t){t>=1&&t<=U.value&&(c.value=t)}function ge(){c.value>1&&c.value--}function be(){c.value<U.value&&c.value++}return pe(async()=>{await G()}),(t,a)=>(u(),n("div",{class:s(["p-6 rounded-2xl shadow-md transition-colors duration-300",l.darkMode?"bg-gray-800 text-gray-100":"bg-white text-gray-900",l.fontClass])},[a[49]||(a[49]=e("h2",{class:"text-2xl font-bold text-blue-500 mb-4"},"Gestión de Pagos",-1)),e("div",me,[b(e("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=o=>E.value.desde=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,E.value.desde]]),b(e("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=o=>E.value.hasta=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,E.value.hasta]]),e("button",{onClick:de,class:"btn-primary"},"Buscar"),e("button",{onClick:G,class:"btn-gray"},"Listar Todo"),e("button",{onClick:ne,class:"btn-warning"},d(q.value?"Ocultar cuotas pendientes":"Cuotas pendientes"),1)]),q.value?(u(),n("div",ye,[a[16]||(a[16]=e("h3",{class:"font-semibold mb-2"},"Cuotas Pendientes",-1)),e("table",{class:s(["w-full text-sm border",l.darkMode?"border-gray-700":"border-gray-300"])},[e("thead",{class:s(l.darkMode?"bg-yellow-600 text-white":"bg-yellow-100")},[...a[15]||(a[15]=[e("tr",null,[e("th",{class:"p-2 border"},"#"),e("th",{class:"p-2 border"},"Destino"),e("th",{class:"p-2 border"},"Tipo"),e("th",{class:"p-2 border"},"Método"),e("th",{class:"p-2 border"},"N° cuota"),e("th",{class:"p-2 border"},"Monto"),e("th",{class:"p-2 border"},"Vencimiento"),e("th",{class:"p-2 border"},"Concepto")],-1)])],2),e("tbody",null,[(u(!0),n(D,null,N(z.value,o=>(u(),n("tr",{key:o.id_cuota,onClick:i=>le(o),class:s(["cursor-pointer",S.value&&S.value.id_cuota===o.id_cuota?l.darkMode?"bg-yellow-900 text-white":"bg-yellow-100":l.darkMode?"border-b border-gray-700 hover:bg-gray-700":"border-b border-gray-200 hover:bg-gray-50"])},[e("td",fe,d(o.id_cuota),1),e("td",xe,d(o.destino),1),e("td",ke,d(o.tipo_pago),1),e("td",we,d(o.metodo_pago),1),e("td",he,d(o.numero_cuota),1),e("td",Me,d(T(o.monto_cuota)),1),e("td",je,d(o.fecha_vencimiento),1),e("td",Pe,d(o.concepto_pago||"-"),1)],10,_e))),128)),z.value.length?m("",!0):(u(),n("tr",Ce,[e("td",{colspan:"8",class:s(["text-center py-3",l.darkMode?"text-gray-300":"text-gray-500"])}," No hay cuotas pendientes ",2)]))])],2)])):m("",!0),e("form",{onSubmit:ve(se,["prevent"]),class:"grid grid-cols-2 gap-4"},[e("div",null,[a[18]||(a[18]=e("label",{class:"block text-sm font-semibold mb-1"},"Tipo de Pago",-1)),b(e("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>r.value.tipo_pago=o),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]]),onChange:te},[...a[17]||(a[17]=[e("option",{disabled:"",value:""},"Seleccione",-1),e("option",{value:"trabajador"},"Trabajador",-1),e("option",{value:"proveedor"},"Proveedor",-1)])],34),[[B,r.value.tipo_pago]])]),e("div",null,[a[20]||(a[20]=e("label",{class:"block text-sm font-semibold mb-1"},"Método de Pago",-1)),b(e("select",{"onUpdate:modelValue":a[3]||(a[3]=o=>r.value.metodo_pago=o),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[...a[19]||(a[19]=[e("option",{disabled:"",value:""},"Seleccione",-1),e("option",{value:"efectivo"},"Efectivo",-1),e("option",{value:"qr"},"QR",-1)])],2),[[B,r.value.metodo_pago]])]),e("div",null,[a[21]||(a[21]=e("label",{class:"block text-sm font-semibold mb-1"},"Número Comprobante",-1)),b(e("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=o=>r.value.numero_comprobante=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"])},null,2),[[f,r.value.numero_comprobante,void 0,{number:!0}]])]),e("div",null,[a[23]||(a[23]=e("label",{class:"block text-sm font-semibold mb-1"},"Estado",-1)),b(e("select",{"onUpdate:modelValue":a[5]||(a[5]=o=>r.value.estado_pago=o),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[...a[22]||(a[22]=[e("option",{value:"Pagado"},"Pagado",-1),e("option",{value:"Pendiente"},"Pendiente",-1)])],2),[[B,r.value.estado_pago]])]),e("div",null,[a[26]||(a[26]=e("label",{class:"block text-sm font-semibold mb-1"}," Monto total / Monto del pago ",-1)),b(e("input",{type:"number",min:"0",step:"0.01",inputmode:"decimal","onUpdate:modelValue":a[6]||(a[6]=o=>r.value.monto_total_pago=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"])},null,2),[[f,r.value.monto_total_pago,void 0,{number:!0}]]),r.value.metodo_pago==="qr"&&w.value==="si"&&v.value.length?(u(),n("p",{key:0,class:s(["text-xs mt-1",l.darkMode?"text-gray-300":"text-gray-500"])},[a[24]||(a[24]=P(" * Para QR en cuotas se cobrará el monto de la ",-1)),e("b",null,"primera cuota ("+d(T(v.value[0].monto))+")",1),a[25]||(a[25]=P(". ",-1))],2)):m("",!0)]),e("div",null,[a[27]||(a[27]=e("label",{class:"block text-sm font-semibold mb-1"},"Concepto",-1)),b(e("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=o=>r.value.concepto_pago=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"])},null,2),[[f,r.value.concepto_pago]])]),e("div",null,[a[28]||(a[28]=e("label",{class:"block text-sm font-semibold mb-1"},"Fecha Pago",-1)),b(e("input",{type:"date","onUpdate:modelValue":a[8]||(a[8]=o=>r.value.fecha_pago=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,r.value.fecha_pago]])]),r.value.tipo_pago==="trabajador"?(u(),n("div",Se,[a[31]||(a[31]=e("label",{class:"block text-sm font-semibold mb-1"},"Trabajador",-1)),b(e("select",{"onUpdate:modelValue":a[9]||(a[9]=o=>r.value.id_trabajador=o),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]]),onChange:H},[a[29]||(a[29]=e("option",{disabled:"",value:""},"Seleccione",-1)),(u(!0),n(D,null,N(x.value,o=>(u(),n("option",{key:o.id_trabajador,value:o.id_trabajador},d(o.nombre_trabajador)+" "+d(o.apellido_trabajador),9,Ve))),128))],34),[[B,r.value.id_trabajador]]),M.value?(u(),n("p",{key:0,class:s(["text-sm mt-1",l.darkMode?"text-gray-300":"text-gray-500"])},[a[30]||(a[30]=P(" Sueldo por día: ",-1)),e("b",null,d(T(M.value)),1)],2)):m("",!0)])):m("",!0),r.value.tipo_pago==="proveedor"?(u(),n("div",Ue,[a[33]||(a[33]=e("label",{class:"block text-sm font-semibold mb-1"},"Proveedor",-1)),b(e("select",{"onUpdate:modelValue":a[10]||(a[10]=o=>r.value.id_proveedor=o),class:s(["w-full",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[a[32]||(a[32]=e("option",{disabled:"",value:""},"Seleccione",-1)),(u(!0),n(D,null,N(h.value,o=>(u(),n("option",{key:o.id_proveedor,value:o.id_proveedor},d(o.nombre_empres_prov),9,De))),128))],2),[[B,r.value.id_proveedor]])])):m("",!0),r.value.tipo_pago==="trabajador"?(u(),n("div",Ne,[a[35]||(a[35]=e("label",{class:"block mb-1 font-semibold"},"Días trabajados (semana)",-1)),e("div",qe,[e("span",{class:s(["text-sm w-44",l.darkMode?"text-gray-300":"text-gray-600"])}," Semana que inicia: ",2),b(e("input",{type:"date","onUpdate:modelValue":a[11]||(a[11]=o=>R.value=o),class:s(["w-48",[p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},null,2),[[f,R.value]]),e("button",{onClick:Z,type:"button",class:"btn-gray"}," Armar Semana ")]),e("div",Te,[(u(!0),n(D,null,N(k.value,(o,i)=>(u(),n("button",{key:i,type:"button",class:s(["px-4 py-2 rounded-lg border text-sm font-medium",o.sel?"bg-green-500 text-white border-green-600":l.darkMode?"bg-gray-700 text-gray-100 border-gray-600":"bg-red-100 text-gray-800 border-red-200"]),onClick:y=>ee(i)},d(o.label),11,Be))),128))]),e("div",Ee,[e("span",{class:s(["text-sm",l.darkMode?"text-gray-300":"text-gray-600"])},[a[34]||(a[34]=P(" Seleccionados: ",-1)),e("b",null,d(A.value),1)],2),e("button",{type:"button",class:"btn-primary",onClick:ae}," Usar monto sugerido ("+d(T(M.value*A.value))+") ",1)])])):m("",!0),e("div",null,[a[37]||(a[37]=e("label",{class:"block text-sm font-semibold mb-1"},"¿En Cuotas?",-1)),b(e("select",{"onUpdate:modelValue":a[12]||(a[12]=o=>w.value=o),disabled:F.value,class:s(["w-full",[p,F.value?"bg-gray-200 cursor-not-allowed":"",l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"]])},[...a[36]||(a[36]=[e("option",{value:"no"},"Pago directo",-1),e("option",{value:"si"},"En cuotas",-1)])],10,Re),[[B,w.value]])]),w.value==="si"?(u(),n("div",Fe,[e("fieldset",{class:s(["border rounded-xl p-4",l.darkMode?"border-gray-600":"border-gray-300"])},[e("legend",{class:s(["px-2 text-sm",l.darkMode?"text-gray-300":"text-gray-600"])}," Plan de Cuotas ",2),e("div",Oe,[e("div",null,[a[38]||(a[38]=e("label",{class:"block text-sm font-semibold mb-1"}," Número de cuotas ",-1)),b(e("input",{type:"number",min:"1","onUpdate:modelValue":a[13]||(a[13]=o=>_.value.cantidad=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,_.value.cantidad,void 0,{number:!0}]])]),e("div",null,[a[39]||(a[39]=e("label",{class:"block text-sm font-semibold mb-1"}," Fecha 1ª Cuota ",-1)),b(e("input",{type:"date","onUpdate:modelValue":a[14]||(a[14]=o=>_.value.primerVenc=o),class:s([p,l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,2),[[f,_.value.primerVenc]])]),e("div",{class:"flex items-end"},[e("button",{class:"btn-gray w-full",type:"button",onClick:oe}," Generar ")])]),v.value.length?(u(),n("table",{key:0,class:s(["w-full text-sm border mt-2",l.darkMode?"border-gray-700":"border-gray-300"])},[e("thead",{class:s(l.darkMode?"bg-gray-700 text-white":"bg-gray-100")},[...a[40]||(a[40]=[e("tr",null,[e("th",{class:"p-2 border"},"#"),e("th",{class:"p-2 border"},"Monto"),e("th",{class:"p-2 border"},"Fecha"),e("th",{class:"p-2 border"},"Estado")],-1)])],2),e("tbody",null,[(u(!0),n(D,null,N(v.value,(o,i)=>(u(),n("tr",{key:i,class:s(l.darkMode?"border-b border-gray-700":"border-b border-gray-200")},[e("td",Ie,d(o.numero),1),e("td",$e,d(T(o.monto)),1),e("td",Le,[i===0?(u(),n("span",Qe,d(o.fecha),1)):b((u(),n("input",{key:1,type:"date","onUpdate:modelValue":y=>o.fecha=y,class:s([p,"text-xs",l.darkMode?"bg-gray-900 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"])},null,10,ze)),[[f,o.fecha]])]),e("td",Ae,d(o.estado),1)],2))),128))])],2)):m("",!0)],2)])):m("",!0),a[41]||(a[41]=e("div",{class:"col-span-2 flex justify-end mt-4"},[e("button",{type:"submit",class:"btn-success"},"Registrar Pago")],-1))],32),V.value?(u(),n("div",Ge,[a[42]||(a[42]=e("h3",{class:"text-lg font-semibold mb-2"},"Código QR del destino seleccionado",-1)),e("img",{src:V.value,class:"w-64 mx-auto shadow-lg rounded-xl p-3 bg-white",alt:"QR"},null,8,Je)])):m("",!0),e("div",He,[a[48]||(a[48]=e("h3",{class:"font-semibold mb-2"},"Pagos Registrados",-1)),e("table",{class:s(["w-full text-sm border",l.darkMode?"border-gray-700":"border-gray-300"])},[e("thead",{class:s(l.darkMode?"bg-blue-600 text-white":"bg-gray-100")},[...a[43]||(a[43]=[e("tr",null,[e("th",{class:"p-2 border"},"#"),e("th",{class:"p-2 border"},"Tipo"),e("th",{class:"p-2 border"},"Método"),e("th",{class:"p-2 border"},"Estado"),e("th",{class:"p-2 border"},"Fecha"),e("th",{class:"p-2 border"},"Monto"),e("th",{class:"p-2 border"},"Destino")],-1)])],2),e("tbody",null,[(u(!0),n(D,null,N(ue.value,o=>(u(),n("tr",{key:o.id_pago,class:s(l.darkMode?"border-b border-gray-700 hover:bg-gray-700":"border-b border-gray-200 hover:bg-gray-50")},[e("td",Ke,d(o.id_pago),1),e("td",We,d(o.tipo_pago),1),e("td",Xe,d(o.metodo_pago),1),e("td",Ye,d(o.estado_pago?"Pagado":"Pendiente"),1),e("td",Ze,d(o.fecha_pago),1),e("td",ea,d(T(o.monto_total_pago)),1),e("td",aa,[o.trabajador?(u(),n("span",oa,d(o.trabajador.nombre_trabajador),1)):o.proveedor?(u(),n("span",ta,d(o.proveedor.nombre_empres_prov),1)):(u(),n("span",ra,"-"))])],2))),128)),j.value.length?m("",!0):(u(),n("tr",la,[e("td",{colspan:"7",class:s(["text-center py-3",l.darkMode?"text-gray-300":"text-gray-500"])}," No hay pagos registrados de trabajadores o proveedores ",2)]))])],2),U.value>1?(u(),n("div",sa,[e("div",null,[a[44]||(a[44]=P(" Mostrando ",-1)),e("b",null,d(W.value.from),1),a[45]||(a[45]=P(" - ",-1)),e("b",null,d(W.value.to),1),a[46]||(a[46]=P(" de ",-1)),e("b",null,d(j.value.length),1),a[47]||(a[47]=P(" pagos ",-1))]),e("div",da,[e("button",{class:s(["px-2 py-1 rounded border",l.darkMode?"bg-gray-800 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-700"]),onClick:ge,disabled:c.value===1}," ⬅ ",10,na),(u(!0),n(D,null,N(U.value,o=>(u(),n("button",{key:o,class:s(["px-2 py-1 rounded border text-xs",[o===c.value?"bg-blue-600 text-white border-blue-500":l.darkMode?"bg-gray-800 text-gray-100 border-gray-600 hover:bg-gray-700":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"]]),onClick:i=>ie(o)},d(o),11,ua))),128)),e("button",{class:s(["px-2 py-1 rounded border",l.darkMode?"bg-gray-800 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-700"]),onClick:be,disabled:c.value===U.value}," ➡ ",10,ia)])])):m("",!0)])],2))}},va=ce(ga,[["__scopeId","data-v-ecea4161"]]);export{va as default};
