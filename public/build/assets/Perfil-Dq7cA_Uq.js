import{d as i,e as v,a,f as b,h as c,t as u,n as p,l as g,v as f,k as y,o as m,L as k}from"./app-DZXOPLfm.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"space-y-2 mb-4"},_={key:0,class:"border-t pt-4 mt-2"},V={class:"flex justify-end gap-2 mt-2"},z={key:0,class:"mt-3 text-sm text-green-500"},B={key:1,class:"mt-3 text-sm text-red-500"},E={__name:"Perfil",props:{darkMode:{type:Boolean,default:!1},proveedor:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})}},setup(t){const r=i(!1),d=i(""),o=i(""),s=i({password_actual:"",password_nueva:"",password_nueva_confirmation:""});async function x(){d.value="",o.value="";try{await k.post("proveedor/cambiar-password",s.value),d.value="Contrase√±a actualizada correctamente.",o.value="",s.value={password_actual:"",password_nueva:"",password_nueva_confirmation:""},r.value=!1}catch(l){console.error(l),l.response?.status===422?o.value=l.response.data?.message||"La contrase√±a actual no es correcta.":l.response?.data?.message?o.value=l.response.data.message:o.value="Error al actualizar la contrase√±a."}}function w(){r.value=!1,d.value="",o.value="",s.value={password_actual:"",password_nueva:"",password_nueva_confirmation:""}}return(l,e)=>(m(),v("section",{class:p(["rounded-2xl shadow p-6 max-w-lg transition-colors duration-300",t.darkMode?"bg-gray-800 text-gray-100":"bg-white text-gray-800"])},[e[11]||(e[11]=a("h3",{class:"text-xl font-bold text-blue-500 mb-4"},"üë§ Mi perfil",-1)),a("ul",M,[a("li",null,[e[4]||(e[4]=a("b",null,"Empresa:",-1)),c(" "+u(t.proveedor?.nombre_empres_prov||"‚Äî"),1)]),a("li",null,[e[5]||(e[5]=a("b",null,"Tel√©fono:",-1)),c(" "+u(t.proveedor?.telefono_prov||"‚Äî"),1)]),a("li",null,[e[6]||(e[6]=a("b",null,"Correo:",-1)),c(" "+u(t.proveedor?.correo_prov||t.user.email||"‚Äî"),1)])]),a("button",{class:p(["px-4 py-2 rounded-lg text-sm font-semibold mb-4",t.darkMode?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"]),onClick:e[0]||(e[0]=n=>r.value=!r.value)},u(r.value?"Cancelar cambio de contrase√±a":"Cambiar contrase√±a"),3),r.value?(m(),v("div",_,[e[10]||(e[10]=a("h4",{class:"font-semibold mb-3 text-sm"},"Actualizar contrase√±a",-1)),a("form",{onSubmit:y(x,["prevent"]),class:"space-y-3"},[a("div",null,[e[7]||(e[7]=a("label",{class:"block text-sm mb-1"},"Contrase√±a actual",-1)),g(a("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=n=>s.value.password_actual=n),class:"input",required:""},null,512),[[f,s.value.password_actual]])]),a("div",null,[e[8]||(e[8]=a("label",{class:"block text-sm mb-1"},"Nueva contrase√±a",-1)),g(a("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=n=>s.value.password_nueva=n),class:"input",required:""},null,512),[[f,s.value.password_nueva]])]),a("div",null,[e[9]||(e[9]=a("label",{class:"block text-sm mb-1"},"Confirmar nueva contrase√±a",-1)),g(a("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=n=>s.value.password_nueva_confirmation=n),class:"input",required:""},null,512),[[f,s.value.password_nueva_confirmation]])]),a("div",V,[a("button",{type:"button",class:p(["px-4 py-2 rounded-lg text-sm",t.darkMode?"bg-gray-600 hover:bg-gray-500 text-white":"bg-gray-300 hover:bg-gray-400 text-gray-800"]),onClick:w}," Cancelar ",2),a("button",{type:"submit",class:p(["px-4 py-2 rounded-lg text-sm font-semibold text-white",t.darkMode?"bg-green-600 hover:bg-green-500":"bg-green-600 hover:bg-green-700"])}," Guardar nueva contrase√±a ",2)])],32),d.value?(m(),v("p",z,u(d.value),1)):b("",!0),o.value?(m(),v("p",B,u(o.value),1)):b("",!0)])):b("",!0)],2))}},q=C(E,[["__scopeId","data-v-dfd58c78"]]);export{q as default};
